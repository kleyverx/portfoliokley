// Traducciones completas para todo el sitio
const translations = {
    es: {
      // Navegación
      inicio: "Inicio",
      videos: "Videos",
      proyectos: "Proyectos",
      habilidades: "Habilidades",
      contacto: "Contacto",
      descargarCV: "Descargar CV",
  
      // Hero
      desarrollador: "デベロッパー • Desarrollador Full Stack",
      hola: "Hola, soy",
      descripcion:
        "Estudiante de Ingeniería en Informática (TSU) con 3 años de experiencia académica y práctica en desarrollo de software.",
      verProyectos: "Ver proyectos",
      contactar: "Contactar",
  
      // Sección Videos
      misVideos: "ビデオ • Mis Videos",
      proyectosVideo: "Proyectos en Video",
      exploraVideos: "Explora mis proyectos y tutoriales en formato video",
      verMasVideos: "Ver más videos",
  
      // Títulos de videos
      video1Titulo: "Desarrollo de un E-commerce con Laravel",
      video1Desc: "Presentacion de desarollo de un E-commerce con Laravel",
      video2Titulo: "Diseño UI/UX para aplicaciones móviles",
      video2Desc: "Principios de diseño para crear interfaces atractivas",
      video3Titulo: "Animaciones avanzadas con CSS y JavaScript",
      video3Desc: "Técnicas para crear animaciones fluidas y atractivas",
      video4Titulo: "Desarrollo backend con Node.js y Express",
      video4Desc: "Creación de APIs RESTful para aplicaciones web",
  
      // Sección Proyectos
      portfolioTitulo: "プロジェクト • Portfolio",
      misProyectos: "Mis Proyectos",
      seleccionTrabajos: "Una selección de mis trabajos más recientes y destacados",
      verMasProyectos: "Ver más proyectos",
      codigo: "Código",
      demo: "Demo",
  
      // Títulos de proyectos
      proyecto1Titulo: "E-commerce de Moda",
      proyecto1Desc: "Tienda online completa con carrito de compras, pagos y gestión de pedidos.",
      proyecto2Titulo: "Dashboard Analítico",
      proyecto2Desc: "Panel de control con visualización de datos y estadísticas en tiempo real.",
      proyecto3Titulo: "App de Gestión de Tareas",
      proyecto3Desc: "Aplicación para organizar proyectos y tareas con funcionalidades colaborativas.",
      proyecto4Titulo: "Plataforma Educativa",
      proyecto4Desc: "Sistema de gestión de cursos online con videos, evaluaciones y certificados.",
      proyecto5Titulo: "Aplicación de Finanzas Personales",
      proyecto5Desc: "Herramienta para seguimiento de gastos, presupuestos y análisis financiero.",
      proyecto6Titulo: "Sitio Web Corporativo",
      proyecto6Desc: "Página web empresarial con múltiples secciones y formulario de contacto.",
  
      // Sección Habilidades
      habilidadesTitulo: "スキル • Expertise",
      misHabilidades: "Mis Habilidades",
      tecnologias: "Tecnologías y herramientas que domino para crear soluciones digitales",
  
      // Categorías de habilidades
      frontend: "Frontend",
      backend: "Backend",
      basesDatos: "Bases de Datos",
      frameworks: "Frameworks",
      lenguajes: "Lenguajes",
      herramientas: "Herramientas",
  
      // Sección Contacto
      contactoTitulo: "コンタクト • Contacto",
      proyectoMente: "¿Tienes un proyecto en mente?",
      disponible: "Estoy disponible para trabajar en proyectos freelance y colaboraciones",
      infoContacto: "Información de contacto",
      hablemos: "Hablemos sobre tu proyecto",
      completaFormulario: "Completa el formulario o contáctame directamente a través de los siguientes medios:",
      email: "Email",
      telefono: "Teléfono",
      ubicacion: "Ubicación",
  
      // Formulario
      nombre: "Nombre",
      apellido: "Apellido",
      asunto: "Asunto",
      mensaje: "Mensaje",
      escribeMensaje: "Escribe tu mensaje aquí...",
      enviarMensaje: "Enviar mensaje",
      enviando: "Enviando...",
      enviado: "¡Enviado con éxito!",
      error: "Error al enviar",
  
      // Footer
      derechos: "© 2024 クレイバー • Kleyver Urbina. Todos los derechos reservados.",
      terminos: "Términos",
      privacidad: "Privacidad",
      idioma: "Idioma",
    },
    en: {
      // Navigation
      inicio: "Home",
      videos: "Videos",
      proyectos: "Projects",
      habilidades: "Skills",
      contacto: "Contact",
      descargarCV: "Download CV",
  
      // Hero
      desarrollador: "デベロッパー • Full Stack Developer",
      hola: "Hello, I'm",
      descripcion:
        "Computer Engineering Student (TSU) with 3 years of academic and practical experience in software development.",
      verProyectos: "View projects",
      contactar: "Contact me",
  
      // Videos Section
      misVideos: "ビデオ • My Videos",
      proyectosVideo: "Video Projects",
      exploraVideos: "Explore my projects and tutorials in video format",
      verMasVideos: "See more videos",
  
      // Video titles
      video1Titulo: "Laravel E-commerce Development",
      video1Desc: "Presentation of E-commerce development with Laravel",
      video2Titulo: "UI/UX Design for Mobile Applications",
      video2Desc: "Design principles to create attractive interfaces",
      video3Titulo: "Advanced Animations with CSS and JavaScript",
      video3Desc: "Techniques for creating fluid and attractive animations",
      video4Titulo: "Backend Development with Node.js and Express",
      video4Desc: "Creating RESTful APIs for web applications",
  
      // Projects Section
      portfolioTitulo: "プロジェクト • Portfolio",
      misProyectos: "My Projects",
      seleccionTrabajos: "A selection of my most recent and outstanding work",
      verMasProyectos: "See more projects",
      codigo: "Code",
      demo: "Demo",
  
      // Project titles
      proyecto1Titulo: "Fashion E-commerce",
      proyecto1Desc: "Complete online store with shopping cart, payments, and order management.",
      proyecto2Titulo: "Analytical Dashboard",
      proyecto2Desc: "Control panel with data visualization and real-time statistics.",
      proyecto3Titulo: "Task Management App",
      proyecto3Desc: "Application to organize projects and tasks with collaborative features.",
      proyecto4Titulo: "Educational Platform",
      proyecto4Desc: "Online course management system with videos, assessments, and certificates.",
      proyecto5Titulo: "Personal Finance Application",
      proyecto5Desc: "Tool for expense tracking, budgeting, and financial analysis.",
      proyecto6Titulo: "Corporate Website",
      proyecto6Desc: "Business website with multiple sections and contact form.",
  
      // Skills Section
      habilidadesTitulo: "スキル • Expertise",
      misHabilidades: "My Skills",
      tecnologias: "Technologies and tools I master to create digital solutions",
  
      // Skill categories
      frontend: "Frontend",
      backend: "Backend",
      basesDatos: "Databases",
      frameworks: "Frameworks",
      lenguajes: "Languages",
      herramientas: "Tools",
  
      // Contact Section
      contactoTitulo: "コンタクト • Contact",
      proyectoMente: "Do you have a project in mind?",
      disponible: "I'm available for freelance projects and collaborations",
      infoContacto: "Contact information",
      hablemos: "Let's talk about your project",
      completaFormulario: "Fill out the form or contact me directly through the following means:",
      email: "Email",
      telefono: "Phone",
      ubicacion: "Location",
  
      // Form
      nombre: "First Name",
      apellido: "Last Name",
      asunto: "Subject",
      mensaje: "Message",
      escribeMensaje: "Write your message here...",
      enviarMensaje: "Send message",
      enviando: "Sending...",
      enviado: "Successfully sent!",
      error: "Error sending",
  
      // Footer
      derechos: "© 2024 クレイバー • Kleyver Urbina. All rights reserved.",
      terminos: "Terms",
      privacidad: "Privacy",
      idioma: "Language",
    },
    fr: {
      // Navigation
      inicio: "Accueil",
      videos: "Vidéos",
      proyectos: "Projets",
      habilidades: "Compétences",
      contacto: "Contact",
      descargarCV: "Télécharger CV",
  
      // Hero
      desarrollador: "デベロッパー • Développeur Full Stack",
      hola: "Bonjour, je suis",
      descripcion:
        "Étudiant en Ingénierie Informatique (TSU) avec 3 ans d'expérience académique et pratique en développement de logiciels.",
      verProyectos: "Voir les projets",
      contactar: "Me contacter",
  
      // Videos Section
      misVideos: "ビデオ • Mes Vidéos",
      proyectosVideo: "Projets en Vidéo",
      exploraVideos: "Explorez mes projets et tutoriels en format vidéo",
      verMasVideos: "Voir plus de vidéos",
  
      // Video titles
      video1Titulo: "Développement de commerce électronique avec Laravel",
      video1Desc: "Présentation du développement d'un commerce électronique avec Laravel",
      video2Titulo: "Design UI/UX pour applications mobiles",
      video2Desc: "Principes de design pour créer des interfaces attrayantes",
      video3Titulo: "Animations avancées avec CSS et JavaScript",
      video3Desc: "Techniques pour créer des animations fluides et attrayantes",
      video4Titulo: "Développement backend avec Node.js et Express",
      video4Desc: "Création d'APIs RESTful pour applications web",
  
      // Projects Section
      portfolioTitulo: "プロジェクト • Portfolio",
      misProyectos: "Mes Projets",
      seleccionTrabajos: "Une sélection de mes travaux les plus récents et remarquables",
      verMasProyectos: "Voir plus de projets",
      codigo: "Code",
      demo: "Démo",
  
      // Project titles
      proyecto1Titulo: "E-commerce de Mode",
      proyecto1Desc: "Boutique en ligne complète avec panier d'achat, paiements et gestion des commandes.",
      proyecto2Titulo: "Tableau de Bord Analytique",
      proyecto2Desc: "Panneau de contrôle avec visualisation de données et statistiques en temps réel.",
      proyecto3Titulo: "Application de Gestion de Tâches",
      proyecto3Desc: "Application pour organiser des projets et des tâches avec des fonctionnalités collaboratives.",
      proyecto4Titulo: "Plateforme Éducative",
      proyecto4Desc: "Système de gestion de cours en ligne avec vidéos, évaluations et certificats.",
      proyecto5Titulo: "Application de Finances Personnelles",
      proyecto5Desc: "Outil pour le suivi des dépenses, la budgétisation et l'analyse financière.",
      proyecto6Titulo: "Site Web d'Entreprise",
      proyecto6Desc: "Site web d'entreprise avec plusieurs sections et formulaire de contact.",
  
      // Skills Section
      habilidadesTitulo: "スキル • Expertise",
      misHabilidades: "Mes Compétences",
      tecnologias: "Technologies et outils que je maîtrise pour créer des solutions numériques",
  
      // Skill categories
      frontend: "Frontend",
      backend: "Backend",
      basesDatos: "Bases de Données",
      frameworks: "Frameworks",
      lenguajes: "Langages",
      herramientas: "Outils",
  
      // Contact Section
      contactoTitulo: "コンタクト • Contact",
      proyectoMente: "Vous avez un projet en tête?",
      disponible: "Je suis disponible pour des projets freelance et des collaborations",
      infoContacto: "Informations de contact",
      hablemos: "Parlons de votre projet",
      completaFormulario: "Remplissez le formulaire ou contactez-moi directement par les moyens suivants:",
      email: "Email",
      telefono: "Téléphone",
      ubicacion: "Emplacement",
  
      // Form
      nombre: "Prénom",
      apellido: "Nom",
      asunto: "Sujet",
      mensaje: "Message",
      escribeMensaje: "Écrivez votre message ici...",
      enviarMensaje: "Envoyer le message",
      enviando: "Envoi en cours...",
      enviado: "Envoyé avec succès!",
      error: "Erreur d'envoi",
  
      // Footer
      derechos: "© 2024 クレイバー • Kleyver Urbina. Tous droits réservés.",
      terminos: "Conditions",
      privacidad: "Confidentialité",
      idioma: "Langue",
    },
  };
  
  // Función para inicializar el sitio
  document.addEventListener('DOMContentLoaded', function() {
    // Inicializar animaciones al hacer scroll
    initScrollAnimations();
    
    // Inicializar navegación
    initNavigation();
    
    // Inicializar selector de idioma
    initLanguageSelector();
    
    // Inicializar formulario de contacto
    initContactForm();

    // Funcionalidad del botón de descarga CV
    document.getElementById('download-cv').addEventListener('click', function() {
      const cvUrl = 'public/cv.pdf';
      const link = document.createElement('a');
      link.href = cvUrl;
      link.download = 'KleyverUrbina-CV.pdf'; // Nombre con el que se descargará el archivo
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    });
  });
  
  // Función para inicializar animaciones al hacer scroll
  function initScrollAnimations() {
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("animate-in");
          }
        });
      },
      { threshold: 0.1 }
    );
  
    // Observar todas las secciones
    const sections = document.querySelectorAll(".animate-section");
    sections.forEach((section) => {
      observer.observe(section);
    });
  
    // Observar todos los elementos animables
    const elements = document.querySelectorAll(".animate-element");
    elements.forEach((element) => {
      observer.observe(element);
    });
  }
  
  // Función para inicializar la navegación
  function initNavigation() {
    // Manejar el menú móvil
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileNav = document.getElementById('mobile-nav');
    
    if (mobileMenuButton && mobileNav) {
      mobileMenuButton.addEventListener('click', () => {
        const isOpen = mobileNav.classList.contains('flex');
        if (isOpen) {
          mobileNav.classList.remove('flex');
          mobileNav.classList.add('hidden');
          // Cambiar el ícono a hamburguesa
          mobileMenuButton.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
              <line x1="4" x2="20" y1="12" y2="12"></line>
              <line x1="4" x2="20" y1="6" y2="6"></line>
              <line x1="4" x2="20" y1="18" y2="18"></line>
            </svg>
          `;
        } else {
          mobileNav.classList.remove('hidden');
          mobileNav.classList.add('flex');
          // Cambiar el ícono a X
          mobileMenuButton.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          `;
        }
      });
    }
  
    // Manejar los enlaces de navegación
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const sectionId = link.getAttribute('data-section');
        scrollToSection(sectionId);
      });
    });
  
    // Botones específicos
    const projectsBtn = document.querySelector('.projects-btn');
    if (projectsBtn) {
      projectsBtn.addEventListener('click', () => scrollToSection('proyectos'));
    }
  
    const contactBtn = document.querySelector('.contact-btn');
    if (contactBtn) {
      contactBtn.addEventListener('click', () => scrollToSection('contacto'));
    }
  }
  
  // Función para desplazarse suavemente a una sección
  function scrollToSection(sectionId) {
    const section = document.getElementById(sectionId);
    if (section) {
      // Cerrar el menú móvil si está abierto
      const mobileNav = document.getElementById('mobile-nav');
      if (mobileNav && mobileNav.classList.contains('flex')) {
        mobileNav.classList.remove('flex');
        mobileNav.classList.add('hidden');
        
        // Restaurar el ícono de hamburguesa
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        if (mobileMenuButton) {
          mobileMenuButton.innerHTML = `
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-5 w-5">
              <line x1="4" x2="20" y1="12" y2="12"></line>
              <line x1="4" x2="20" y1="6" y2="6"></line>
              <line x1="4" x2="20" y1="18" y2="18"></line>
            </svg>
          `;
        }
      }
  
      // Scroll suave a la sección
      section.scrollIntoView({ behavior: 'smooth' });
    }
  }
  
  // Función para inicializar el selector de idioma
  function initLanguageSelector() {
    const languageSelector = document.getElementById('language-selector');
    if (languageSelector) {
      // Establecer el idioma predeterminado (español)
      let currentLanguage = 'es';
      
      // Comprobar si hay un idioma guardado en localStorage
      const savedLanguage = localStorage.getItem('language');
      if (savedLanguage) {
        currentLanguage = savedLanguage;
        languageSelector.value = currentLanguage;
      }
      
      // Aplicar traducciones iniciales
      applyTranslations(currentLanguage);
      
      // Escuchar cambios en el selector de idioma
      languageSelector.addEventListener('change', (e) => {
        const newLanguage = e.target.value;
        localStorage.setItem('language', newLanguage);
        applyTranslations(newLanguage);
      });
    }
  }
  
  // Función para aplicar traducciones
  function applyTranslations(language) {
    if (!translations[language]) {
      console.error(`No se encontraron traducciones para el idioma: ${language}`);
      return;
    }
    
    // Obtener todas las traducciones para el idioma seleccionado
    const trans = translations[language];
    
    // Aplicar traducciones a todos los elementos con la clase lang-text
    const elements = document.querySelectorAll('.lang-text');
    elements.forEach(element => {
      const key = element.getAttribute('data-key');
      if (key && trans[key]) {
        element.textContent = trans[key];
      }
    });
    
    // Actualizar placeholders en formularios
    updateFormPlaceholders(language);
  }
  
  // Función para actualizar placeholders en formularios
  function updateFormPlaceholders(language) {
    const trans = translations[language];
    
    // Actualizar placeholders del formulario de contacto
    const firstNameInput = document.getElementById('first-name');
    if (firstNameInput) {
      firstNameInput.placeholder = trans.nombre;
    }
    
    const lastNameInput = document.getElementById('last-name');
    if (lastNameInput) {
      lastNameInput.placeholder = trans.apellido;
    }
    
    const emailInput = document.getElementById('email');
    if (emailInput) {
      emailInput.placeholder = 'ejemplo@email.com';
    }
    
    const subjectInput = document.getElementById('subject');
    if (subjectInput) {
      subjectInput.placeholder = trans.asunto;
    }
    
    const messageInput = document.getElementById('message');
    if (messageInput) {
      messageInput.placeholder = trans.escribeMensaje;
    }
  }
  
  // Función para inicializar el formulario de contacto
  function initContactForm() {
    const contactForm = document.getElementById('contact-form');
    if (contactForm) {
      contactForm.addEventListener('submit', handleFormSubmit);
    }
  }
  
  // Función para manejar el envío del formulario
  function handleFormSubmit(e) {
    e.preventDefault();
    
    const submitBtn = document.getElementById('submit-btn');
    const currentLanguage = localStorage.getItem('language') || 'es';
    const trans = translations[currentLanguage];
    
    // Cambiar el texto del botón a "Enviando..."
    if (submitBtn) {
      submitBtn.textContent = trans.enviando;
      submitBtn.disabled = true;
    }
    
    // Simulación de envío (reemplazar con tu lógica real)
    setTimeout(() => {
      // Obtener los datos del formulario
      const formData = {
        firstName: document.getElementById('first-name').value,
        lastName: document.getElementById('last-name').value,
        email: document.getElementById('email').value,
        subject: document.getElementById('subject').value,
        message: document.getElementById('message').value
      };
      
      console.log('Datos del formulario:', formData);
      
      // Cambiar el texto del botón a "¡Enviado con éxito!"
      if (submitBtn) {
        submitBtn.textContent = trans.enviado;
      }
      
      // Resetear el formulario después de 3 segundos
      setTimeout(() => {
        document.getElementById('contact-form').reset();
        
        // Restaurar el texto del botón
        if (submitBtn) {
          submitBtn.textContent = trans.enviarMensaje;
          submitBtn.disabled = false;
        }
      }, 3000);
    }, 1500);
  }